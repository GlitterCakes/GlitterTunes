@{
    ViewBag.Title = "Music";
}
<style type="text/css">
    #pagContB {
        margin-top: 5px;
        margin-bottom: 10px;
    }

    #playPause
    {
        width: 34%;
    }

    #previousTrack, #forwardTrack
    {
        width: 33%;
    }

    .yui-dt table
    {
        font-size: 12px !important;
    }

    /* Music player styles */
    .playlist-drop-highlight
    {
        border: 2px dashed #808080;
        border-radius: 5px;
        margin-bottom: 3px;
    }

    .playingTrackRow
    {
        background-color: #468847 !important;
        color: #FFF;
    }
</style>

<div class="row-fluid controlBar">
    <div class="span2">
        <div class="btn-group" style="text-align: center;">
            <button type="button" name="previousTrack" id="previousTrack" class="btn btn-large">
                <i class="icon-step-backward"></i>
            </button>
            <button type="button" name="playPause" id="playPause" class="btn btn-success btn-large">
                <i id="playPauseIcon" class="icon-play"></i>
            </button>
            <button type="button" name="forwardTrack" id="forwardTrack" class="btn btn-large">
                <i class="icon-step-forward"></i>
            </button>
        </div>
        <div class="btn-group" style="text-align: center; margin-left: 0px;">
            <button type="button" name="shareSong" id="shareSong" class="btn" style="width: 100%;">
                <i class="icon-share"></i>
                Share
            </button>
        </div>
    </div>
    <div class="span10 well well-small">
        <b id="currentTitle">@ViewBag.Title</b><br />
        <span id="currentArtist">@ViewBag.Artists --- @ViewBag.Album</span><br />
        <div class="row-fluid" style="margin-top: 5px;">
            <div class="span10">
                <div class="progress" id="trackProgress">
                    <div class="bar" style="width: 0%"></div>
                </div>
            </div>
            <div class="span2" style="text-align: center; font-size: 12px;">
                <span id="totalTime">00:00:00</span> / 
                <span id="trackTime">00:00:00</span>
            </div>
        </div>
    </div>
</div>
<div class="row-fluid">
    <div class="span2">
        <ul id="sideNav" class="nav nav-list">
            <li class="nav-header">Things</li>
            <li class="active">
                <a href="#">
                    <i class="icon-music"></i>
                    Media Library
                </a>
            </li>
            <li class="divider"></li>
            <li class="nav-header">Playlists</li>
        </ul>
    </div>
    <div class="span10">
        <div class="row-fluid">
            <div class="span5">
                <div id="paginatorTop"></div>
            </div>
            <div class="span3">
                <div class="input-prepend">
                    <span class="add-on">
                        <i class="icon-search"></i>
                    </span>
                    <input type="text" name="searchQuery" id="searchQuery" />
                    <div id="searchQueryResults" style="display: none;"></div>
                </div>
            </div>
            <div class="span2">
                <div id="totalTracks"></div>
            </div>
            <div class="span2">
                <i class="icon-volume-down"></i>
                <span id="volumeSlider"></span>
                <i class="icon-volume-up"></i>
            </div>
            
        </div>

        <div id="musicDt"></div>

        <div id="paginatorBottom"></div>
    </div>
</div>

<!-- This seems like as good a place as any to shove this modal -->
<div id="shareModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Share Current Track</h3>
    </div>
    <div class="modal-body">
        <label for="currentTrackLink">Track URL</label>
        <input type="text" name="currentTrackLink" id="currentTrackLink" class="input-xlarge" value="" />
    </div>
    <div class="modal-footer">
        <button class="btn btn-danger" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
</div>

<!-- Some how add a default value for src later as its required? -->
<audio id="audioTag" src="/Home/StreamFile/@ViewBag.Guid" data-guid=""></audio>

@section Scripts {
    <script type="text/javascript" src="http://yui.yahooapis.com/3.7.3/build/yui/yui-min.js"></script>
    <script type="text/javascript" src="~/Scripts/Music.js"></script>
}